{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "AllCommand": {
            "anyOf": [
                {
                    "$ref": "#/definitions/IStartTransactionCommand"
                },
                {
                    "$ref": "#/definitions/ICancelTransactionCommand"
                },
                {
                    "$ref": "#/definitions/IPauseTransactionCommand"
                },
                {
                    "$ref": "#/definitions/IResumeTransactionCommand"
                },
                {
                    "$ref": "#/definitions/IReloadTaskCommand"
                }
            ]
        },
        "AllEvent": {
            "anyOf": [
                {
                    "$ref": "#/definitions/ITransactionEvent"
                },
                {
                    "$ref": "#/definitions/ITransactionErrorEvent"
                },
                {
                    "$ref": "#/definitions/IWorkflowEvent"
                },
                {
                    "$ref": "#/definitions/IWorkflowErrorEvent"
                },
                {
                    "$ref": "#/definitions/ITaskEvent"
                },
                {
                    "$ref": "#/definitions/ITaskErrorEvent"
                },
                {
                    "$ref": "#/definitions/ISystemEvent"
                },
                {
                    "$ref": "#/definitions/ISystemErrorEvent"
                }
            ]
        },
        "AllTaskType": {
            "anyOf": [
                {
                    "$ref": "#/definitions/ITaskTask"
                },
                {
                    "$ref": "#/definitions/ICompensateTask"
                },
                {
                    "$ref": "#/definitions/IParallelTask"
                },
                {
                    "$ref": "#/definitions/IDecisionTask"
                }
            ]
        },
        "AllTimerType": {
            "anyOf": [
                {
                    "$ref": "#/definitions/IDelayTaskTimer"
                },
                {
                    "$ref": "#/definitions/ICronWorkflowTimer"
                }
            ]
        },
        "CommandTypes": {
            "enum": [
                "CANCEL_TRANSACTION",
                "PAUSE_TRANSACTION",
                "RELOAD_TASK",
                "RESUME_TRANSACTION",
                "START_TRANSACTION"
            ],
            "type": "string"
        },
        "IBaseEvent": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "timestamp": {
                    "type": "number"
                },
                "transactionId": {
                    "type": "string"
                }
            },
            "required": [
                "timestamp",
                "transactionId"
            ],
            "type": "object"
        },
        "IBaseTask": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "inputParameters": {
                    "additionalProperties": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "properties": {},
                                "type": "object"
                            },
                            {
                                "type": [
                                    "string",
                                    "number"
                                ]
                            }
                        ]
                    },
                    "default": {},
                    "defaultProperties": [],
                    "description": "The input to be mapping to workflow's data",
                    "type": "object"
                },
                "taskReferenceName": {
                    "description": "The referance name using in workflow",
                    "maxLength": 64,
                    "minLength": 1,
                    "pattern": "^[a-zA-Z0-9-_]+$",
                    "type": "string"
                }
            },
            "required": [
                "taskReferenceName"
            ],
            "type": "object"
        },
        "ICancelTransactionCommand": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "reason": {
                    "type": "string"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "CANCEL_TRANSACTION"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "reason",
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "ICommand": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "transactionId": {
                    "type": "string"
                }
            },
            "required": [
                "transactionId"
            ],
            "type": "object"
        },
        "ICompensateTask": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "inputParameters": {
                    "additionalProperties": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "properties": {},
                                "type": "object"
                            },
                            {
                                "type": [
                                    "string",
                                    "number"
                                ]
                            }
                        ]
                    },
                    "default": {},
                    "defaultProperties": [],
                    "description": "The input to be mapping to workflow's data",
                    "type": "object"
                },
                "name": {
                    "description": "The task's name",
                    "maxLength": 64,
                    "minLength": 1,
                    "pattern": "^[a-zA-Z0-9-_]+$",
                    "type": "string"
                },
                "taskReferenceName": {
                    "description": "The referance name using in workflow",
                    "maxLength": 64,
                    "minLength": 1,
                    "pattern": "^[a-zA-Z0-9-_]+$",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "COMPENSATE"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "name",
                "taskReferenceName",
                "type"
            ],
            "type": "object"
        },
        "ICronWorkflowTimer": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "cron": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "CRON_WORKFLOW"
                    ],
                    "type": "string"
                },
                "workflow": {
                    "$ref": "#/definitions/IWorkflowRef"
                }
            },
            "required": [
                "cron",
                "type",
                "workflow"
            ],
            "type": "object"
        },
        "IDecisionTask": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "decisions": {
                    "additionalProperties": {
                        "items": {
                            "anyOf": [
                                {
                                    "$ref": "#/definitions/ITaskTask"
                                },
                                {
                                    "$ref": "#/definitions/ICompensateTask"
                                },
                                {
                                    "$ref": "#/definitions/IParallelTask"
                                },
                                {
                                    "$ref": "#/definitions/IDecisionTask"
                                }
                            ]
                        },
                        "type": "array"
                    },
                    "defaultProperties": [],
                    "type": "object"
                },
                "defaultDecision": {
                    "description": "The tasks in workflow (can not be empty)",
                    "items": {
                        "anyOf": [
                            {
                                "$ref": "#/definitions/ITaskTask"
                            },
                            {
                                "$ref": "#/definitions/ICompensateTask"
                            },
                            {
                                "$ref": "#/definitions/IParallelTask"
                            },
                            {
                                "$ref": "#/definitions/IDecisionTask"
                            }
                        ]
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "inputParameters": {
                    "additionalProperties": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "properties": {},
                                "type": "object"
                            },
                            {
                                "type": [
                                    "string",
                                    "number"
                                ]
                            }
                        ]
                    },
                    "default": {},
                    "defaultProperties": [],
                    "description": "The input to be mapping to workflow's data",
                    "type": "object"
                },
                "taskReferenceName": {
                    "description": "The referance name using in workflow",
                    "maxLength": 64,
                    "minLength": 1,
                    "pattern": "^[a-zA-Z0-9-_]+$",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "DECISION"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "decisions",
                "defaultDecision",
                "taskReferenceName",
                "type"
            ],
            "type": "object"
        },
        "IDelayTaskTimer": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "task": {
                    "$ref": "#/definitions/ITask"
                },
                "type": {
                    "enum": [
                        "DELAY_TASK"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "task",
                "type"
            ],
            "type": "object"
        },
        "IParallelTask": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "inputParameters": {
                    "additionalProperties": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "properties": {},
                                "type": "object"
                            },
                            {
                                "type": [
                                    "string",
                                    "number"
                                ]
                            }
                        ]
                    },
                    "default": {},
                    "defaultProperties": [],
                    "description": "The input to be mapping to workflow's data",
                    "type": "object"
                },
                "parallelTasks": {
                    "description": "The list of tasks that run parallely",
                    "items": {
                        "items": {
                            "anyOf": [
                                {
                                    "$ref": "#/definitions/ITaskTask"
                                },
                                {
                                    "$ref": "#/definitions/ICompensateTask"
                                },
                                {
                                    "$ref": "#/definitions/IParallelTask"
                                },
                                {
                                    "$ref": "#/definitions/IDecisionTask"
                                }
                            ]
                        },
                        "type": "array"
                    },
                    "minItems": 1,
                    "type": "array"
                },
                "taskReferenceName": {
                    "description": "The referance name using in workflow",
                    "maxLength": 64,
                    "minLength": 1,
                    "pattern": "^[a-zA-Z0-9-_]+$",
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "PARALLEL"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "parallelTasks",
                "taskReferenceName",
                "type"
            ],
            "type": "object"
        },
        "IPauseTransactionCommand": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "PAUSE_TRANSACTION"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "IReloadTaskCommand": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "task": {
                    "$ref": "#/definitions/ITask"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "RELOAD_TASK"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "task",
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "IResumeTransactionCommand": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "RESUME_TRANSACTION"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "IStartTransactionCommand": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "input": {},
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "START_TRANSACTION"
                    ],
                    "type": "string"
                },
                "workflow": {
                    "$ref": "#/definitions/IWorkflowRef"
                }
            },
            "required": [
                "input",
                "transactionId",
                "type",
                "workflow"
            ],
            "type": "object"
        },
        "ISystemErrorEvent": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "details": {},
                "error": {
                    "type": "string"
                },
                "isError": {
                    "enum": [
                        true
                    ],
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "number"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "SYSTEM"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "details",
                "error",
                "isError",
                "timestamp",
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "ISystemEvent": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "details": {},
                "isError": {
                    "enum": [
                        false
                    ],
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "number"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "SYSTEM"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "details",
                "isError",
                "timestamp",
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "ITask": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "ackTimeout": {
                    "type": "number"
                },
                "createTime": {
                    "type": "number"
                },
                "decisions": {
                    "additionalProperties": {
                        "items": {
                            "anyOf": [
                                {
                                    "$ref": "#/definitions/ITaskTask"
                                },
                                {
                                    "$ref": "#/definitions/ICompensateTask"
                                },
                                {
                                    "$ref": "#/definitions/IParallelTask"
                                },
                                {
                                    "$ref": "#/definitions/IDecisionTask"
                                }
                            ]
                        },
                        "type": "array"
                    },
                    "defaultProperties": [],
                    "type": "object"
                },
                "defaultDecision": {
                    "items": {
                        "anyOf": [
                            {
                                "$ref": "#/definitions/ITaskTask"
                            },
                            {
                                "$ref": "#/definitions/ICompensateTask"
                            },
                            {
                                "$ref": "#/definitions/IParallelTask"
                            },
                            {
                                "$ref": "#/definitions/IDecisionTask"
                            }
                        ]
                    },
                    "type": "array"
                },
                "endTime": {
                    "type": "number"
                },
                "input": {},
                "isRetried": {
                    "type": "boolean"
                },
                "logs": {
                    "items": {},
                    "type": "array"
                },
                "output": {},
                "parallelTasks": {
                    "items": {
                        "items": {
                            "anyOf": [
                                {
                                    "$ref": "#/definitions/ITaskTask"
                                },
                                {
                                    "$ref": "#/definitions/ICompensateTask"
                                },
                                {
                                    "$ref": "#/definitions/IParallelTask"
                                },
                                {
                                    "$ref": "#/definitions/IDecisionTask"
                                }
                            ]
                        },
                        "type": "array"
                    },
                    "type": "array"
                },
                "retries": {
                    "type": "number"
                },
                "retryDelay": {
                    "type": "number"
                },
                "startTime": {
                    "type": "number"
                },
                "status": {
                    "$ref": "#/definitions/TaskStates"
                },
                "taskId": {
                    "type": "string"
                },
                "taskName": {
                    "type": "string"
                },
                "taskReferenceName": {
                    "type": "string"
                },
                "timeout": {
                    "type": "number"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/TaskTypes"
                },
                "workflowId": {
                    "type": "string"
                }
            },
            "required": [
                "ackTimeout",
                "createTime",
                "endTime",
                "input",
                "isRetried",
                "output",
                "retries",
                "retryDelay",
                "startTime",
                "status",
                "taskId",
                "taskName",
                "taskReferenceName",
                "timeout",
                "transactionId",
                "type",
                "workflowId"
            ],
            "type": "object"
        },
        "ITaskDefinition": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "ackTimeout": {
                    "default": 0,
                    "description": "The given time that task can ack before it timeout in miliseconds (0 is no timeout)",
                    "minimum": 0,
                    "type": "number"
                },
                "description": {
                    "default": "-",
                    "description": "The task's description",
                    "type": "string"
                },
                "document": {
                    "additionalProperties": false,
                    "defaultProperties": [],
                    "properties": {
                        "inputs": {
                            "additionalProperties": true,
                            "default": {},
                            "description": "Embedded json schema",
                            "properties": {},
                            "type": "object"
                        },
                        "output": {
                            "additionalProperties": true,
                            "default": 0,
                            "description": "Embedded json schema",
                            "properties": {},
                            "type": "object"
                        }
                    },
                    "type": "object"
                },
                "name": {
                    "description": "The task's name",
                    "maxLength": 64,
                    "minLength": 1,
                    "pattern": "^[a-zA-Z0-9-_]+$",
                    "type": "string"
                },
                "retry": {
                    "additionalProperties": false,
                    "default": {
                        "delay": 0,
                        "limit": 0
                    },
                    "defaultProperties": [],
                    "description": "Retry object",
                    "properties": {
                        "delay": {
                            "default": 0,
                            "description": "The delay before dispatch task",
                            "minimum": 0,
                            "type": "number"
                        },
                        "limit": {
                            "default": 0,
                            "description": "Retry limit number (0 is no retry)",
                            "minimum": 0,
                            "type": "number"
                        }
                    },
                    "required": [
                        "delay",
                        "limit"
                    ],
                    "type": "object"
                },
                "timeout": {
                    "default": 0,
                    "description": "The given time that task can finish before it timeout in miliseconds (0 is no timeout)",
                    "minimum": 0,
                    "type": "number"
                }
            },
            "required": [
                "name"
            ],
            "type": "object"
        },
        "ITaskErrorEvent": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "details": {
                    "$ref": "#/definitions/ITaskUpdate"
                },
                "error": {
                    "type": "string"
                },
                "isError": {
                    "enum": [
                        true
                    ],
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "number"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "TASK"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "details",
                "error",
                "isError",
                "timestamp",
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "ITaskEvent": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "details": {
                    "$ref": "#/definitions/ITask"
                },
                "isError": {
                    "enum": [
                        false
                    ],
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "number"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "TASK"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "details",
                "isError",
                "timestamp",
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "ITaskTask": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "ackTimeout": {
                    "default": 0,
                    "description": "The given time that task can ack before it timeout in miliseconds (0 is no timeout)",
                    "minimum": 0,
                    "type": "number"
                },
                "inputParameters": {
                    "additionalProperties": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "properties": {},
                                "type": "object"
                            },
                            {
                                "type": [
                                    "string",
                                    "number"
                                ]
                            }
                        ]
                    },
                    "default": {},
                    "defaultProperties": [],
                    "description": "The input to be mapping to workflow's data",
                    "type": "object"
                },
                "name": {
                    "description": "The task's name",
                    "maxLength": 64,
                    "minLength": 1,
                    "pattern": "^[a-zA-Z0-9-_]+$",
                    "type": "string"
                },
                "retry": {
                    "additionalProperties": false,
                    "default": {
                        "delay": 0,
                        "limit": 0
                    },
                    "defaultProperties": [],
                    "description": "Retry object",
                    "properties": {
                        "delay": {
                            "default": 0,
                            "description": "The delay before dispatch task",
                            "minimum": 0,
                            "type": "number"
                        },
                        "limit": {
                            "default": 0,
                            "description": "Retry limit number (0 is no retry)",
                            "minimum": 0,
                            "type": "number"
                        }
                    },
                    "required": [
                        "delay",
                        "limit"
                    ],
                    "type": "object"
                },
                "taskReferenceName": {
                    "description": "The referance name using in workflow",
                    "maxLength": 64,
                    "minLength": 1,
                    "pattern": "^[a-zA-Z0-9-_]+$",
                    "type": "string"
                },
                "timeout": {
                    "default": 0,
                    "description": "The given time that task can finish before it timeout in miliseconds (0 is no timeout)",
                    "minimum": 0,
                    "type": "number"
                },
                "type": {
                    "enum": [
                        "TASK"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "name",
                "taskReferenceName",
                "type"
            ],
            "type": "object"
        },
        "ITaskUpdate": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "isSystem": {
                    "type": "boolean"
                },
                "logs": {},
                "output": {},
                "status": {
                    "$ref": "#/definitions/TaskStates"
                },
                "taskId": {
                    "type": "string"
                },
                "transactionId": {
                    "type": "string"
                }
            },
            "required": [
                "isSystem",
                "status",
                "taskId",
                "transactionId"
            ],
            "type": "object"
        },
        "ITimerData": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "ackTimeout": {
                    "type": "number"
                },
                "delay": {
                    "type": "number"
                },
                "task": {
                    "$ref": "#/definitions/ITask"
                },
                "timeout": {
                    "type": "number"
                }
            },
            "required": [
                "ackTimeout",
                "delay",
                "task",
                "timeout"
            ],
            "type": "object"
        },
        "ITransaction": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "createTime": {
                    "type": "number"
                },
                "endTime": {
                    "type": "number"
                },
                "input": {},
                "output": {},
                "status": {
                    "$ref": "#/definitions/TransactionStates"
                },
                "transactionId": {
                    "type": "string"
                },
                "workflowDefinition": {
                    "$ref": "#/definitions/IWorkflowDefinition"
                }
            },
            "required": [
                "createTime",
                "endTime",
                "input",
                "output",
                "status",
                "transactionId",
                "workflowDefinition"
            ],
            "type": "object"
        },
        "ITransactionErrorEvent": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "details": {
                    "$ref": "#/definitions/ITransactionUpdate"
                },
                "error": {
                    "type": "string"
                },
                "isError": {
                    "enum": [
                        true
                    ],
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "number"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "TRANSACTION"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "details",
                "error",
                "isError",
                "timestamp",
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "ITransactionEvent": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "details": {
                    "$ref": "#/definitions/ITransaction"
                },
                "isError": {
                    "enum": [
                        false
                    ],
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "number"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "TRANSACTION"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "details",
                "isError",
                "timestamp",
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "ITransactionUpdate": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "output": {},
                "status": {
                    "$ref": "#/definitions/TransactionStates"
                },
                "transactionId": {
                    "type": "string"
                }
            },
            "required": [
                "status",
                "transactionId"
            ],
            "type": "object"
        },
        "IWorkflow": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "createTime": {
                    "type": "number"
                },
                "endTime": {
                    "type": "number"
                },
                "input": {
                    "additionalProperties": {},
                    "defaultProperties": [],
                    "type": "object"
                },
                "output": {
                    "additionalProperties": {},
                    "defaultProperties": [],
                    "type": "object"
                },
                "retries": {
                    "type": "number"
                },
                "startTime": {
                    "type": "number"
                },
                "status": {
                    "$ref": "#/definitions/WorkflowStates"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/WorkflowTypes"
                },
                "workflowDefinition": {
                    "$ref": "#/definitions/IWorkflowDefinition"
                },
                "workflowId": {
                    "type": "string"
                }
            },
            "required": [
                "createTime",
                "endTime",
                "input",
                "output",
                "retries",
                "startTime",
                "status",
                "transactionId",
                "type",
                "workflowDefinition",
                "workflowId"
            ],
            "type": "object"
        },
        "IWorkflowDefinition": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "description": {
                    "default": "-",
                    "description": "The task's description",
                    "type": "string"
                },
                "failureStrategy": {
                    "$ref": "#/definitions/WorkflowFailureStrategies",
                    "default": "FAILED",
                    "description": "The workflow's failure strategies"
                },
                "name": {
                    "description": "The workflow's name",
                    "maxLength": 64,
                    "minLength": 1,
                    "pattern": "^[a-zA-Z0-9-_]+$",
                    "type": "string"
                },
                "outputParameters": {
                    "additionalProperties": {},
                    "default": {},
                    "defaultProperties": [],
                    "description": "The workflow's output mapping",
                    "type": "object"
                },
                "recoveryWorkflow": {
                    "$ref": "#/definitions/IWorkflowRef"
                },
                "retry": {
                    "additionalProperties": false,
                    "default": {
                        "limit": 0
                    },
                    "defaultProperties": [],
                    "description": "Retry object",
                    "properties": {
                        "limit": {
                            "default": 0,
                            "description": "Retry limit number (0 is no retry)",
                            "minimum": 0,
                            "type": "number"
                        }
                    },
                    "required": [
                        "limit"
                    ],
                    "type": "object"
                },
                "rev": {
                    "description": "The workflow's revision",
                    "maxLength": 64,
                    "minLength": 1,
                    "pattern": "^[a-zA-Z0-9-_]+$",
                    "type": "string"
                },
                "tasks": {
                    "description": "The tasks in workflow (can not be empty)",
                    "items": {
                        "anyOf": [
                            {
                                "$ref": "#/definitions/ITaskTask"
                            },
                            {
                                "$ref": "#/definitions/ICompensateTask"
                            },
                            {
                                "$ref": "#/definitions/IParallelTask"
                            },
                            {
                                "$ref": "#/definitions/IDecisionTask"
                            }
                        ]
                    },
                    "minItems": 1,
                    "type": "array"
                }
            },
            "required": [
                "name",
                "rev",
                "tasks"
            ],
            "type": "object"
        },
        "IWorkflowErrorEvent": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "details": {
                    "$ref": "#/definitions/IWorkflowUpdate"
                },
                "error": {
                    "type": "string"
                },
                "isError": {
                    "enum": [
                        true
                    ],
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "number"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "WORKFLOW"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "details",
                "error",
                "isError",
                "timestamp",
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "IWorkflowEvent": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "details": {
                    "$ref": "#/definitions/IWorkflow"
                },
                "isError": {
                    "enum": [
                        false
                    ],
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "number"
                },
                "transactionId": {
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "WORKFLOW"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "details",
                "isError",
                "timestamp",
                "transactionId",
                "type"
            ],
            "type": "object"
        },
        "IWorkflowRef": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "name": {
                    "type": "string"
                },
                "rev": {
                    "type": "string"
                }
            },
            "required": [
                "name",
                "rev"
            ],
            "type": "object"
        },
        "IWorkflowUpdate": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "output": {},
                "status": {
                    "$ref": "#/definitions/WorkflowStates"
                },
                "transactionId": {
                    "type": "string"
                },
                "workflowId": {
                    "type": "string"
                }
            },
            "required": [
                "status",
                "transactionId",
                "workflowId"
            ],
            "type": "object"
        },
        "StoreType": {
            "enum": [
                "MEMORY",
                "MONGODB",
                "REDIS",
                "ZOOKEEPER"
            ],
            "type": "string"
        },
        "TaskDefinition": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "ackTimeout": {
                    "description": "The given time that task can ack before it timeout in miliseconds (0 is no timeout)",
                    "type": "number"
                },
                "description": {
                    "description": "The task's description",
                    "type": "string"
                },
                "document": {
                    "additionalProperties": false,
                    "defaultProperties": [],
                    "properties": {
                        "inputs": {
                            "additionalProperties": true,
                            "default": {},
                            "description": "Embedded json schema",
                            "properties": {},
                            "type": "object"
                        },
                        "output": {
                            "additionalProperties": true,
                            "default": 0,
                            "description": "Embedded json schema",
                            "properties": {},
                            "type": "object"
                        }
                    },
                    "type": "object"
                },
                "name": {
                    "description": "The task's name",
                    "type": "string"
                },
                "retry": {
                    "additionalProperties": false,
                    "defaultProperties": [],
                    "description": "Retry object",
                    "properties": {
                        "delay": {
                            "default": 0,
                            "description": "The delay before dispatch task",
                            "minimum": 0,
                            "type": "number"
                        },
                        "limit": {
                            "default": 0,
                            "description": "Retry limit number (0 is no retry)",
                            "minimum": 0,
                            "type": "number"
                        }
                    },
                    "required": [
                        "delay",
                        "limit"
                    ],
                    "type": "object"
                },
                "timeout": {
                    "description": "The given time that task can finish before it timeout in miliseconds (0 is no timeout)",
                    "type": "number"
                }
            },
            "required": [
                "ackTimeout",
                "description",
                "document",
                "name",
                "retry",
                "timeout"
            ],
            "type": "object"
        },
        "TaskStates": {
            "enum": [
                "ACK_TIMEOUT",
                "COMPLETED",
                "FAILED",
                "INPROGRESS",
                "SCHEDULED",
                "TIMEOUT"
            ],
            "type": "string"
        },
        "TaskTypes": {
            "enum": [
                "COMPENSATE",
                "DECISION",
                "PARALLEL",
                "TASK"
            ],
            "type": "string"
        },
        "Tasks": {
            "description": "The tasks in workflow (can not be empty)",
            "items": {
                "anyOf": [
                    {
                        "$ref": "#/definitions/ITaskTask"
                    },
                    {
                        "$ref": "#/definitions/ICompensateTask"
                    },
                    {
                        "$ref": "#/definitions/IParallelTask"
                    },
                    {
                        "$ref": "#/definitions/IDecisionTask"
                    }
                ]
            },
            "minItems": 1,
            "type": "array"
        },
        "TimerType": {
            "enum": [
                "CRON_WORKFLOW",
                "DELAY_TASK"
            ],
            "type": "string"
        },
        "TopicConfigurations": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "cleanup.policy": {
                    "enum": [
                        "compact",
                        "delete"
                    ],
                    "type": "string"
                },
                "compression.type": {
                    "enum": [
                        "gzip",
                        "lz4",
                        "producer",
                        "snappy",
                        "uncompressed",
                        "zstd"
                    ],
                    "type": "string"
                },
                "delete.retention.ms": {
                    "type": "string"
                },
                "file.delete.delay.ms": {
                    "type": "string"
                },
                "flush.messages": {
                    "type": "string"
                },
                "flush.ms": {
                    "type": "string"
                },
                "follower.replication.throttled.replicas": {
                    "type": "string"
                },
                "index.interval.bytes": {
                    "type": "string"
                },
                "leader.replication.throttled.replicas": {
                    "type": "string"
                },
                "max.message.bytes": {
                    "type": "string"
                },
                "message.downconversion.enable": {
                    "type": "boolean"
                },
                "message.format.version": {
                    "type": "string"
                },
                "message.timestamp.difference.max.ms": {
                    "type": "string"
                },
                "message.timestamp.type": {
                    "type": "string"
                },
                "min.cleanable.dirty.ratio": {
                    "type": "string"
                },
                "min.compaction.lag.ms": {
                    "type": "string"
                },
                "min.insync.replicas": {
                    "type": "string"
                },
                "preallocate": {
                    "type": "string"
                },
                "retention.bytes": {
                    "type": "string"
                },
                "retention.ms": {
                    "type": "string"
                },
                "segment.bytes": {
                    "type": "string"
                },
                "segment.index.bytes": {
                    "type": "string"
                },
                "segment.jitter.ms": {
                    "type": "string"
                },
                "segment.ms": {
                    "type": "string"
                },
                "unclean.leader.election.enable": {
                    "type": "boolean"
                }
            },
            "type": "object"
        },
        "TransactionStates": {
            "enum": [
                "CANCELLED",
                "COMPENSATED",
                "COMPLETED",
                "FAILED",
                "PAUSED",
                "RUNNING"
            ],
            "type": "string"
        },
        "WorkflowDefinition": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "description": {
                    "description": "The task's description",
                    "type": "string"
                },
                "failureStrategy": {
                    "description": "The workflow's failure strategies",
                    "enum": [
                        "COMPENSATE",
                        "COMPENSATE_THEN_RETRY",
                        "FAILED",
                        "RECOVERY_WORKFLOW",
                        "RETRY"
                    ],
                    "type": "string"
                },
                "name": {
                    "description": "The workflow's name",
                    "type": "string"
                },
                "outputParameters": {
                    "additionalProperties": {},
                    "defaultProperties": [],
                    "description": "The workflow's output mapping",
                    "type": "object"
                },
                "recoveryWorkflow": {
                    "$ref": "#/definitions/IWorkflowRef"
                },
                "retry": {
                    "additionalProperties": false,
                    "defaultProperties": [],
                    "description": "Retry object",
                    "properties": {
                        "limit": {
                            "default": 0,
                            "description": "Retry limit number (0 is no retry)",
                            "minimum": 0,
                            "type": "number"
                        }
                    },
                    "required": [
                        "limit"
                    ],
                    "type": "object"
                },
                "rev": {
                    "description": "The workflow's revision",
                    "type": "string"
                },
                "tasks": {
                    "items": {
                        "anyOf": [
                            {
                                "$ref": "#/definitions/ITaskTask"
                            },
                            {
                                "$ref": "#/definitions/ICompensateTask"
                            },
                            {
                                "$ref": "#/definitions/IParallelTask"
                            },
                            {
                                "$ref": "#/definitions/IDecisionTask"
                            }
                        ]
                    },
                    "type": "array"
                }
            },
            "required": [
                "description",
                "failureStrategy",
                "name",
                "outputParameters",
                "recoveryWorkflow",
                "retry",
                "rev",
                "tasks"
            ],
            "type": "object"
        },
        "WorkflowFailureStrategies": {
            "enum": [
                "COMPENSATE",
                "COMPENSATE_THEN_RETRY",
                "FAILED",
                "RECOVERY_WORKFLOW",
                "RETRY"
            ],
            "type": "string"
        },
        "WorkflowStates": {
            "enum": [
                "CANCELLED",
                "COMPLETED",
                "FAILED",
                "PAUSED",
                "RUNNING",
                "TIMEOUT"
            ],
            "type": "string"
        },
        "WorkflowTypes": {
            "enum": [
                "CANCEL_WORKFLOW",
                "COMPENSATE_THEN_RETRY_WORKFLOW",
                "COMPENSATE_WORKFLOW",
                "WORKFLOW"
            ],
            "type": "string"
        },
        "kafkaConsumerMessage": {
            "additionalProperties": false,
            "defaultProperties": [],
            "properties": {
                "key": {
                    "type": "string"
                },
                "offset": {
                    "type": "number"
                },
                "partition": {
                    "type": "number"
                },
                "size": {
                    "type": "number"
                },
                "topic": {
                    "type": "string"
                },
                "value": {
                    "additionalProperties": false,
                    "description": "Raw data is stored in instances of the Buffer class.\nA Buffer is similar to an array of integers but corresponds to a raw memory allocation outside the V8 heap.  A Buffer cannot be resized.\nValid string encodings: 'ascii'|'utf8'|'utf16le'|'ucs2'(alias of 'utf16le')|'base64'|'binary'(deprecated)|'hex'",
                    "patternProperties": {
                        "^[0-9]+$": {
                            "type": "number"
                        }
                    },
                    "type": "object"
                }
            },
            "required": [
                "key",
                "offset",
                "partition",
                "size",
                "topic",
                "value"
            ],
            "type": "object"
        },
        "topicSuffix": {
            "enum": [
                "command",
                "event",
                "store",
                "task",
                "timer"
            ],
            "type": "string"
        }
    }
}